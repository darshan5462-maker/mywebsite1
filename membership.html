<!--<DOCTYPE html>
<html lang="kn">
<head>
  <meta charset="UTF-8">
  <title>‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ ‡≤Ö‡≤∞‡≥ç‡≤ú‡≤ø</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
   <header>
   ‡≤°‡≤æ. ‡≤¨‡≤æ‡≤¨‡≥Å ‡≤ú‡≤ó‡≤ú‡≥Ä‡≤µ‡≤®‡≤∞‡≤æ‡≤µ‡≥ç ‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï ‡≤Ü‡≤¶‡≤ø ‡≤ú‡≤æ‡≤Ç‡≤¨‡≤µ ‡≤Ö‡≤≠‡≤ø‡≤µ‡≥É‡≤¶‡≥ç‡≤¶‡≤ø ‡≤∏‡≤Ç‡≤ò
  </header>
  <div class="form-container">
    <h2>‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ ‡≤Ö‡≤∞‡≥ç‡≤ú‡≤ø / Membership Form</h2>
<form id="memberForm" enctype="multipart/form-data">

  <label>‡≤´‡≥ã‡≤ü‡≥ã / Photo</label>
  <input type="file" id="photo" name="photo" accept="image/*" required>

  <label>‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å / Name</label>
  <input type="text" name="name" required>
 <label>‡≤§‡≤Ç‡≤¶‡≥Ü / ‡≤™‡≤§‡≤ø ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å / Father / Husband Name</label>
<input type="text" name="father_husband_name" id="father_husband_name" required>

  <label>‡≤≤‡≤ø‡≤Ç‡≤ó / Gender</label>
  <select name="gender" required>
    <option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select</option>
    <option>‡≤™‡≥Å‡≤∞‡≥Å‡≤∑ / Male</option>
    <option>‡≤Æ‡≤π‡≤ø‡≤≥‡≥Ü / Female</option>
    <option>‡≤á‡≤§‡≤∞‡≥Ü / Other</option>
  </select>

  <label>‡≤ú‡≤®‡≥ç‡≤Æ ‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï / Date of Birth</label>
  <input type="date" name="dob" required>

  <label>‡≤µ‡≤∞‡≥ç‡≤ó / Category</label>
<select id="category" name="category" required>
  <option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select Category</option>
  <option value="SC">SC</option>
  <option value="ST">ST</option>
  <option value="OBC">OBC</option>
  <option value="General">General</option>
</select>

<label>‡≤ú‡≤æ‡≤§‡≤ø / Caste</label>
<select id="caste" name="caste" required>
  <option value="">‡≤Æ‡≥ä‡≤¶‡≤≤‡≥Å ‡≤µ‡≤∞‡≥ç‡≤ó ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select category first</option>
</select>

  <label>‡≤∂‡≤ø‡≤ï‡≥ç‡≤∑‡≤£ / Qualification</label>
  <input type="text" name="qualification">

  <label>‡≤µ‡≥É‡≤§‡≥ç‡≤§‡≤ø / Profession</label>
  <input type="text" name="profession">

  <label>‡≤™‡≥ç‡≤∞‡≤∏‡≥ç‡≤§‡≥Å‡≤§ ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏ / Current Address</label>
  <textarea name="current_address" id="currentAddress" required></textarea>
<div class="checkbox-row">
  <input type="checkbox" id="sameAddress">
  <span>‡≤∂‡≤æ‡≤∂‡≥ç‡≤µ‡≤§ ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏‡≤µ‡≥Ç ‡≤á‡≤¶‡≥á / Same as Permanent Address</span>
</div>
  <label>‡≤∂‡≤æ‡≤∂‡≥ç‡≤µ‡≤§ ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏ / Permanent Address</label>
  <textarea name="permanent_address" id="permanentAddress" required></textarea>

  <label>‡≤Æ‡≥ä‡≤¨‡≥à‡≤≤‡≥ç ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü / Mobile Number</label>
  <input type="tel" name="phone" required>

  <label>‡≤™‡≤Ç‡≤ö‡≤æ‡≤Ø‡≤§‡≥ç ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å / Panchayat Name</label>
  <input type="text" name="panchayat">

  <label>‡≤á‡≤Æ‡≥á‡≤≤‡≥ç ‡≤ê‡≤°‡≤ø / Email ID</label>
  <input type="email" name="email">

  <label>‡≤Ü‡≤ß‡≤æ‡≤∞‡≥ç ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü / Aadhaar Number</label>
  <input type="text" name="aadhaar" id="aadhaar" maxlength="12" required>

  <label>‡≤ú‡≤ø‡≤≤‡≥ç‡≤≤‡≥Ü / District</label>
<select id="district" name="district" required>
  <option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select District</option>
</select>

<label>‡≤§‡≤æ‡≤≤‡≥Ç‡≤ï‡≥Å / Taluk</label>
<select id="taluk" name="taluk" required>
  <option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select Taluk</option>
</select>
<h3>‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ ‡≤µ‡≤∞‡≥ç‡≤ó / Membership Type</h3>
<input type="hidden" name="membership_fee" id="membership_fee">

<label>‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ‡≤¶ ‡≤µ‡≤ø‡≤ß ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select Membership Type</label>
<select name="membership_type" id="membership_type" required>
  <option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select</option>

  <option value="Life Member">
    ‡≤Ü‡≤ú‡≥Ä‡≤µ ‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ (Life Member) ‚Äì ‡≤∞‡≥Ç.2000/- ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤Ö‡≤¶‡≤ï‡≥ç‡≤ï‡≤ø‡≤Ç‡≤§ ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å
  </option>

  <option value="Annual Member">
    ‡≤µ‡≤æ‡≤∞‡≥ç‡≤∑‡≤ø‡≤ï ‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ (Annual Member) ‚Äì ‡≤∞‡≥Ç.500/-
  </option>

  <option value="General Member">
    ‡≤∏‡≤æ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ (General Member) ‚Äì ‡≤∞‡≥Ç.200/-
  </option>
</select>

<p>
  <strong>‡≤∂‡≥Å‡≤≤‡≥ç‡≤ï / Amount:</strong>
  ‚Çπ<span id="feeAmount">0</span>
</p>

<label>UTR / Transaction ID</label>
<input type="text" name="transaction_id" id="transaction_id"
       placeholder="‡≤™‡≤æ‡≤µ‡≤§‡≤ø ‡≤®‡≤Ç‡≤§‡≤∞ UTR ‡≤®‡≤Æ‡≥Ç‡≤¶‡≤ø‡≤∏‡≤ø / Enter UTR after payment"
       required>

  <button type="submit">‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ ‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≤ø / Submit Membership</button>
</form>
</div>

<script>
document.getElementById("memberForm").addEventListener("submit", function(e){
  e.preventDefault();

  const form = document.getElementById("memberForm");
  const photoInput = document.getElementById("photo");

  if (!photoInput.files.length) {
    alert("Please select photo");
    return;
  }

  const reader = new FileReader();

  reader.onload = function () {
    const base64Photo = reader.result.split(",")[1];

    const data = new FormData(form);
    data.append("action", "membership");
    data.append("photo", base64Photo);
    data.append("photoType", photoInput.files[0].type);

    fetch("https://script.google.com/macros/s/AKfycbxWknOVhux0fGiSjmU_TxR1lQW7E_bWS4NoZs-s4pzI5Vm-_C2qXIiBXskyNtDh__2z/exec", {
      method: "POST",
      body: data
    })
    .then(res => res.json())
    .then(res => {
  console.log("SERVER RESPONSE:", res);

  if (res.status === "success") {
    window.location.href = "thanks.html?id=" + res.id;
  } else {
    alert("Server error:\n" + (res.error || "Unknown error"));
  }
})
    .catch(err => {
      console.error(err);
      alert("Upload failed");
    });
  };

  reader.readAsDataURL(photoInput.files[0]);
});
</script>

    
<script>
/* District ‚Üí Taluk */
const taluks = {
  Belagavi:["Athani","Chikkodi","Gokak"],
  Vijayapura:["Indi","Basavana Bagewadi"],
  Bagalkot:["Bagalkot","Jamkhandi"]
};

document.getElementById("district").onchange = function(){
  const t = document.getElementById("taluk");
  t.innerHTML = '<option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select</option>';
  taluks[this.value]?.forEach(v=>{
    t.innerHTML += `<option>${v}</option>`;
  });
};

/* Same Address */
document.getElementById("sameAddress").onchange = function(){
  if(this.checked){
    document.getElementById("permanentAddress").value =
      document.getElementById("currentAddress").value;
  }
};

/* Aadhaar validation */
document.getElementById("aadhaar").oninput = function(){
  this.value = this.value.replace(/\D/g,"").slice(0,12);
};
</script>
<script>
const districtTalukMap = {
  "Bagalkot": ["Bagalkot","Badami","Bilagi","Hungund","Jamkhandi","Mudhol"],
  "Ballari": ["Ballari","Hospet","Hagaribommanahalli","Hadagalli","Kudligi","Sandur","Siruguppa"],
  "Belagavi": ["Athani","Bailhongal","Belagavi","Chikkodi","Gokak","Hukkeri","Khanapur","Raibag","Ramdurg","Saundatti"],
  "Bengaluru Rural": ["Devanahalli","Doddaballapura","Hoskote","Nelamangala"],
  "Bengaluru Urban": ["Anekal","Bengaluru North","Bengaluru East","Bengaluru South","Yelahanka"],
  "Bidar": ["Aurad","Basavakalyan","Bhalki","Bidar","Chitgoppa","Humnabad"],
  "Chamarajanagar": ["Chamarajanagar","Gundlupet","Kollegal","Yelandur"],
  "Chikkaballapur": ["Bagepalli","Chikkaballapur","Chintamani","Gauribidanur","Gudibanda","Sidlaghatta"],
  "Chikkamagaluru": ["Chikkamagaluru","Kadur","Koppa","Mudigere","Narasimharajapura","Sringeri","Tarikere"],
  "Chitradurga": ["Challakere","Chitradurga","Hiriyur","Holalkere","Hosadurga","Molakalmuru"],
  "Dakshina Kannada": ["Bantwal","Belthangady","Mangaluru","Moodabidri","Puttur","Sullia"],
  "Davanagere": ["Channagiri","Davanagere","Harihar","Honnali","Jagalur","Nyamati"],
  "Dharwad": ["Dharwad","Hubballi","Kalghatgi","Kundgol","Navalgund"],
  "Gadag": ["Gadag","Mundargi","Nargund","Ron","Shirhatti"],
  "Hassan": ["Alur","Arakalgud","Belur","Channarayapatna","Hassan","Holenarasipura","Sakleshpur"],
  "Haveri": ["Byadgi","Hangal","Haveri","Hirekerur","Ranebennur","Savanur","Shiggaon"],
  "Kalaburagi": ["Afzalpur","Aland","Chincholi","Chittapur","Kalaburagi","Jewargi","Sedam"],
  "Kodagu": ["Madikeri","Somwarpet","Virajpet"],
  "Kolar": ["Bangarpet","Kolar","Malur","Mulbagal","Srinivaspur"],
  "Koppal": ["Gangavathi","Koppal","Kushtagi","Yelburga"],
  "Mandya": ["Krishnarajpet","Maddur","Malavalli","Mandya","Nagamangala","Pandavapura","Srirangapatna"],
  "Mysuru": ["Hunsur","Krishnarajanagara","Mysuru","Nanjangud","Piriyapatna","Tirumakudal-Narsipur"],
  "Raichur": ["Devadurga","Lingasugur","Manvi","Raichur","Sindhanur"],
  "Ramanagara": ["Channapatna","Kanakapura","Magadi","Ramanagara"],
  "Shivamogga": ["Bhadravati","Hosanagara","Sagar","Shikaripura","Shivamogga","Soraba","Thirthahalli"],
  "Tumakuru": ["Chikkanayakanahalli","Gubbi","Koratagere","Kunigal","Madhugiri","Pavagada","Sira","Tiptur","Tumakuru"],
  "Udupi": ["Brahmavara","Byndoor","Karkala","Kundapura","Udupi"],
  "Uttara Kannada": ["Ankola","Bhatkal","Haliyal","Honnavar","Karwar","Kumta","Mundgod","Siddapur","Sirsi","Yellapur"],
  "Vijayapura": ["Basavana Bagewadi","Indi","Muddebihal","Sindagi","Vijayapura"],
  "Yadgir": ["Gurmitkal","Shahapur","Yadgir"]
};

/* Populate districts */
const districtSelect = document.getElementById("district");
const talukSelect = document.getElementById("taluk");

Object.keys(districtTalukMap).forEach(d => {
  const opt = document.createElement("option");
  opt.value = d;
  opt.textContent = d;
  districtSelect.appendChild(opt);
});

/* Populate taluks on change */
districtSelect.addEventListener("change", function(){
  talukSelect.innerHTML = '<option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select Taluk</option>';
  (districtTalukMap[this.value] || []).forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    talukSelect.appendChild(opt);
  });
});
</script>
<script>
const casteData = {
  SC: [
    "‡≤Ü‡≤¶‡≤ø ‡≤ú‡≤æ‡≤Ç‡≤¨‡≤µ / Adi Jambava",
    "‡≤Æ‡≤æ‡≤¶‡≤ø‡≤ó / Madiga",
    "‡≤Æ‡≤æ‡≤¶‡≤∞ / Madara",
    "‡≤ö‡≤≤‡≤µ‡≤æ‡≤¶‡≤ø / Chalavadi",
    "‡≤π‡≥ä‡≤≤‡≥Ü‡≤Ø / Holeya",
    "‡≤≠‡≥ã‡≤µ‡≤ø / Bhovi"
  ],
  ST: [
    "‡≤µ‡≤æ‡≤≤‡≥ç‡≤Æ‡≥Ä‡≤ï‡≤ø / Valmiki",
    "‡≤®‡≤æ‡≤Ø‡≤ï / Nayaka",
    "‡≤≤‡≤Ç‡≤¨‡≤æ‡≤£‡≤ø / Lambani",
    "‡≤ó‡≥ã‡≤Ç‡≤° / Gonda"
  ],
  OBC: [
    "‡≤ï‡≥Å‡≤∞‡≥Å‡≤¨ / Kuruba",
    "‡≤í‡≤ï‡≥ç‡≤ï‡≤≤‡≤ø‡≤ó / Vokkaliga",
    "‡≤≤‡≤ø‡≤Ç‡≤ó‡≤æ‡≤Ø‡≤§ / Lingayat",
    "‡≤ï‡≥ä‡≤∞‡≤Æ / Korama",
    "‡≤ï‡≥ä‡≤∞‡≤ö / Koracha"
  ],
  General: [
    "‡≤¨‡≥ç‡≤∞‡≤æ‡≤π‡≥ç‡≤Æ‡≤£ / Brahmin",
    "‡≤ï‡≥ç‡≤∑‡≤§‡≥ç‡≤∞‡≤ø‡≤Ø / Kshatriya",
    "‡≤µ‡≥à‡≤∂‡≥ç‡≤Ø / Vaishya",
    "‡≤Æ‡≥Å‡≤∏‡≥ç‡≤≤‡≤ø‡≤Ç / Muslim",
    "‡≤ï‡≥ç‡≤∞‡≤ø‡≤∂‡≥ç‡≤ö‡≤ø‡≤Ø‡≤®‡≥ç / Christian"
  ]
};

const categorySelect = document.getElementById("category");
const casteSelect = document.getElementById("caste");

categorySelect.addEventListener("change", function(){
  casteSelect.innerHTML = '<option value="">‡≤ú‡≤æ‡≤§‡≤ø ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select Caste</option>';

  if(casteData[this.value]){
    casteData[this.value].forEach(c => {
      const opt = document.createElement("option");
      opt.value = c;
      opt.textContent = c;
      casteSelect.appendChild(opt);
    });
  }
});
</script>
<script>
const feeMap = {
  "Life Member": 2000,
  "Annual Member": 500,
  "General Member": 200
};

document.getElementById("membership_type").addEventListener("change", function(){
  const fee = feeMap[this.value] || 0;
  document.getElementById("feeAmount").innerText = fee;
  document.getElementById("membership_fee").value = fee; // üî¥ IMPORTANT
});
</script>

</body>
</html> -->

<!DOCTYPE html>
<html lang="kn">
<head>
  <meta charset="UTF-8">
  <title>‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ ‡≤Ö‡≤∞‡≥ç‡≤ú‡≤ø</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
<header>
  ‡≤°‡≤æ. ‡≤¨‡≤æ‡≤¨‡≥Å ‡≤ú‡≤ó‡≤ú‡≥Ä‡≤µ‡≤®‡≤∞‡≤æ‡≤µ‡≥ç ‡≤ï‡≤∞‡≥ç‡≤®‡≤æ‡≤ü‡≤ï ‡≤Ü‡≤¶‡≤ø ‡≤ú‡≤æ‡≤Ç‡≤¨‡≤µ ‡≤Ö‡≤≠‡≤ø‡≤µ‡≥É‡≤¶‡≥ç‡≤¶‡≤ø ‡≤∏‡≤Ç‡≤ò
</header>

<div class="form-container">
  <h2>‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ ‡≤Ö‡≤∞‡≥ç‡≤ú‡≤ø / Membership Form</h2>

  <form id="memberForm">

    <label>‡≤´‡≥ã‡≤ü‡≥ã / Photo</label>
    <input type="file" id="photo" name="photo_file" accept="image/*" required>

    <label>‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å / Name</label>
    <input type="text" name="name" required>

    <label>‡≤§‡≤Ç‡≤¶‡≥Ü / ‡≤™‡≤§‡≤ø ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å / Father / Husband Name</label>
    <input type="text" name="father_husband_name" required>

    <label>‡≤≤‡≤ø‡≤Ç‡≤ó / Gender</label>
    <select name="gender" required>
      <option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select</option>
      <option value="‡≤™‡≥Å‡≤∞‡≥Å‡≤∑ / Male">‡≤™‡≥Å‡≤∞‡≥Å‡≤∑ / Male</option>
      <option value="‡≤Æ‡≤π‡≤ø‡≤≥‡≥Ü / Female">‡≤Æ‡≤π‡≤ø‡≤≥‡≥Ü / Female</option>
      <option value="‡≤á‡≤§‡≤∞‡≥Ü / Other">‡≤á‡≤§‡≤∞‡≥Ü / Other</option>
    </select>

    <label>‡≤ú‡≤®‡≥ç‡≤Æ ‡≤¶‡≤ø‡≤®‡≤æ‡≤Ç‡≤ï / Date of Birth</label>
    <input type="date" name="dob" required>

    <label>‡≤µ‡≤∞‡≥ç‡≤ó / Category</label>
    <select id="category" name="category" required>
      <option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select Category</option>
      <option value="SC">SC</option>
      <option value="ST">ST</option>
      <option value="OBC">OBC</option>
      <option value="General">General</option>
    </select>

    <label>‡≤ú‡≤æ‡≤§‡≤ø / Caste</label>
    <select id="caste" name="caste" required>
      <option value="">‡≤Æ‡≥ä‡≤¶‡≤≤‡≥Å ‡≤µ‡≤∞‡≥ç‡≤ó ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select category first</option>
    </select>

    <label>‡≤∂‡≤ø‡≤ï‡≥ç‡≤∑‡≤£ / Qualification</label>
    <input type="text" name="qualification">

    <label>‡≤µ‡≥É‡≤§‡≥ç‡≤§‡≤ø / Profession</label>
    <input type="text" name="profession">

    <label>‡≤™‡≥ç‡≤∞‡≤∏‡≥ç‡≤§‡≥Å‡≤§ ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏ / Current Address</label>
    <textarea name="current_address" id="currentAddress" required></textarea>

    <div class="checkbox-row">
      <input type="checkbox" id="sameAddress">
      <span>‡≤∂‡≤æ‡≤∂‡≥ç‡≤µ‡≤§ ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏‡≤µ‡≥Ç ‡≤á‡≤¶‡≥á / Same as Permanent Address</span>
    </div>

    <label>‡≤∂‡≤æ‡≤∂‡≥ç‡≤µ‡≤§ ‡≤µ‡≤ø‡≤≥‡≤æ‡≤∏ / Permanent Address</label>
    <textarea name="permanent_address" id="permanentAddress" required></textarea>

    <label>‡≤Æ‡≥ä‡≤¨‡≥à‡≤≤‡≥ç ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü / Mobile Number</label>
    <input type="tel" name="phone" required>

    <label>‡≤™‡≤Ç‡≤ö‡≤æ‡≤Ø‡≤§‡≥ç ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å / Panchayat Name</label>
    <input type="text" name="panchayat">

    <label>‡≤á‡≤Æ‡≥á‡≤≤‡≥ç ‡≤ê‡≤°‡≤ø / Email ID</label>
    <input type="email" name="email">

    <label>‡≤Ü‡≤ß‡≤æ‡≤∞‡≥ç ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü / Aadhaar Number</label>
    <input type="text" name="aadhaar" id="aadhaar" maxlength="12" required>

    <label>‡≤ú‡≤ø‡≤≤‡≥ç‡≤≤‡≥Ü / District</label>
    <select id="district" name="district" required>
      <option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select District</option>
    </select>

    <label>‡≤§‡≤æ‡≤≤‡≥Ç‡≤ï‡≥Å / Taluk</label>
    <select id="taluk" name="taluk" required>
      <option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select Taluk</option>
    </select>

    <h3>‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ ‡≤µ‡≤∞‡≥ç‡≤ó / Membership Type</h3>
    <input type="hidden" name="membership_fee" id="membership_fee" value="0">

    <label>‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ‡≤¶ ‡≤µ‡≤ø‡≤ß ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select Membership Type</label>
    <select name="membership_type" id="membership_type" required>
      <option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select</option>

      <option value="Life Member">
        ‡≤Ü‡≤ú‡≥Ä‡≤µ ‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ (Life Member) ‚Äì ‡≤∞‡≥Ç.2000/- ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤Ö‡≤¶‡≤ï‡≥ç‡≤ï‡≤ø‡≤Ç‡≤§ ‡≤π‡≥Ü‡≤ö‡≥ç‡≤ö‡≥Å
      </option>

      <option value="Annual Member">
        ‡≤µ‡≤æ‡≤∞‡≥ç‡≤∑‡≤ø‡≤ï ‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ (Annual Member) ‚Äì ‡≤∞‡≥Ç.500/-
      </option>

      <option value="General Member">
        ‡≤∏‡≤æ‡≤Æ‡≤æ‡≤®‡≥ç‡≤Ø ‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ (General Member) ‚Äì ‡≤∞‡≥Ç.200/-
      </option>
    </select>

    <p>
      <strong>‡≤∂‡≥Å‡≤≤‡≥ç‡≤ï / Amount:</strong> ‚Çπ<span id="feeAmount">0</span>
    </p>

    <label>UTR / Transaction ID</label>
    <input type="text" name="transaction_id" id="transaction_id"
           placeholder="‡≤™‡≤æ‡≤µ‡≤§‡≤ø ‡≤®‡≤Ç‡≤§‡≤∞ UTR ‡≤®‡≤Æ‡≥Ç‡≤¶‡≤ø‡≤∏‡≤ø / Enter UTR after payment"
           required>

    <button type="submit">‡≤∏‡≤¶‡≤∏‡≥ç‡≤Ø‡≤§‡≥ç‡≤µ ‡≤∏‡≤≤‡≥ç‡≤≤‡≤ø‡≤∏‡≤ø / Submit Membership</button>
  </form>
</div>

<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwgyaJ2NmnG2hRUFKLKPyl5r_iyBG_qRJdjUqEKKDBXi2ah0xmH4PDC-sq8k4lw1brR/exec";

document.getElementById("memberForm").addEventListener("submit", function(e){
  e.preventDefault();

  const form = document.getElementById("memberForm");
  const photoInput = document.getElementById("photo");

  if (!photoInput.files.length) {
    alert("‡≤´‡≥ã‡≤ü‡≥ã ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Please select photo");
    return;
  }

  const reader = new FileReader();
  reader.onload = function () {
    const base64Photo = reader.result.split(",")[1];

    const data = new FormData(form);
    data.append("photo", base64Photo);
    data.append("photoType", photoInput.files[0].type);

    fetch(SCRIPT_URL, { method: "POST", body: data })
      .then(res => res.json())
      .then(res => {
        console.log("SERVER RESPONSE:", res);

        if (res.status === "success") {
          window.location.href = "thanks.html?id=" + res.id;
        } else {
          alert("Server error:\n" + (res.error || "Unknown error"));
        }
      })
      .catch(err => {
        console.error(err);
        alert("Upload failed");
      });
  };

  reader.readAsDataURL(photoInput.files[0]);
});
</script>

<script>
/* ‚úÖ Aadhaar validation */
document.getElementById("aadhaar").addEventListener("input", function(){
  this.value = this.value.replace(/\D/g,"").slice(0,12);
});

/* ‚úÖ Same address copy (works correctly) */
document.getElementById("sameAddress").addEventListener("change", function(){
  const current = document.getElementById("currentAddress");
  const permanent = document.getElementById("permanentAddress");

  if(this.checked){
    permanent.value = current.value;
    current.addEventListener("input", () => permanent.value = current.value);
  }
});
</script>

<script>
/* ‚úÖ District ‚Üí Taluk Map */
const districtTalukMap = {
  "Bagalkot": ["Bagalkot","Badami","Bilagi","Hungund","Jamkhandi","Mudhol"],
  "Belagavi": ["Athani","Bailhongal","Belagavi","Chikkodi","Gokak","Hukkeri","Khanapur","Raibag","Ramdurg","Saundatti"],
  "Vijayapura": ["Basavana Bagewadi","Indi","Muddebihal","Sindagi","Vijayapura"],
  "Haveri": ["Byadgi","Hangal","Haveri","Hirekerur","Ranebennur","Savanur","Shiggaon"],
  "Ballari": ["Ballari","Hospet","Hagaribommanahalli","Hadagalli","Kudligi","Sandur","Siruguppa"],
  "Dharwad": ["Dharwad","Hubballi","Kalghatgi","Kundgol","Navalgund"],
  "Gadag": ["Gadag","Mundargi","Nargund","Ron","Shirhatti"],
  "Koppal": ["Gangavathi","Koppal","Kushtagi","Yelburga"],
  "Raichur": ["Devadurga","Lingasugur","Manvi","Raichur","Sindhanur"],
  "Yadgir": ["Gurmitkal","Shahapur","Yadgir"]
};

const districtSelect = document.getElementById("district");
const talukSelect = document.getElementById("taluk");

/* Populate district list */
Object.keys(districtTalukMap).forEach(d => {
  const opt = document.createElement("option");
  opt.value = d;
  opt.textContent = d;
  districtSelect.appendChild(opt);
});

/* Populate taluk list */
districtSelect.addEventListener("change", function(){
  talukSelect.innerHTML = '<option value="">‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select Taluk</option>';
  (districtTalukMap[this.value] || []).forEach(t => {
    const opt = document.createElement("option");
    opt.value = t;
    opt.textContent = t;
    talukSelect.appendChild(opt);
  });
});
</script>

<script>
/* ‚úÖ Category ‚Üí Caste */
const casteData = {
  SC: ["‡≤Ü‡≤¶‡≤ø ‡≤ú‡≤æ‡≤Ç‡≤¨‡≤µ / Adi Jambava","‡≤Æ‡≤æ‡≤¶‡≤ø‡≤ó / Madiga","‡≤Æ‡≤æ‡≤¶‡≤∞ / Madara","‡≤ö‡≤≤‡≤µ‡≤æ‡≤¶‡≤ø / Chalavadi","‡≤π‡≥ä‡≤≤‡≥Ü‡≤Ø / Holeya","‡≤≠‡≥ã‡≤µ‡≤ø / Bhovi"],
  ST: ["‡≤µ‡≤æ‡≤≤‡≥ç‡≤Æ‡≥Ä‡≤ï‡≤ø / Valmiki","‡≤®‡≤æ‡≤Ø‡≤ï / Nayaka","‡≤≤‡≤Ç‡≤¨‡≤æ‡≤£‡≤ø / Lambani","‡≤ó‡≥ã‡≤Ç‡≤° / Gonda"],
  OBC: ["‡≤ï‡≥Å‡≤∞‡≥Å‡≤¨ / Kuruba","‡≤í‡≤ï‡≥ç‡≤ï‡≤≤‡≤ø‡≤ó / Vokkaliga","‡≤≤‡≤ø‡≤Ç‡≤ó‡≤æ‡≤Ø‡≤§ / Lingayat","‡≤ï‡≥ä‡≤∞‡≤Æ / Korama","‡≤ï‡≥ä‡≤∞‡≤ö / Koracha"],
  General: ["‡≤¨‡≥ç‡≤∞‡≤æ‡≤π‡≥ç‡≤Æ‡≤£ / Brahmin","‡≤ï‡≥ç‡≤∑‡≤§‡≥ç‡≤∞‡≤ø‡≤Ø / Kshatriya","‡≤µ‡≥à‡≤∂‡≥ç‡≤Ø / Vaishya","‡≤Æ‡≥Å‡≤∏‡≥ç‡≤≤‡≤ø‡≤Ç / Muslim","‡≤ï‡≥ç‡≤∞‡≤ø‡≤∂‡≥ç‡≤ö‡≤ø‡≤Ø‡≤®‡≥ç / Christian"]
};

document.getElementById("category").addEventListener("change", function(){
  const casteSelect = document.getElementById("caste");
  casteSelect.innerHTML = '<option value="">‡≤ú‡≤æ‡≤§‡≤ø ‡≤Ü‡≤Ø‡≥ç‡≤ï‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø / Select Caste</option>';

  (casteData[this.value] || []).forEach(c => {
    const opt = document.createElement("option");
    opt.value = c;
    opt.textContent = c;
    casteSelect.appendChild(opt);
  });
});
</script>

<script>
/* ‚úÖ Membership fee map */
const feeMap = {
  "Life Member": 2000,
  "Annual Member": 500,
  "General Member": 200
};

document.getElementById("membership_type").addEventListener("change", function(){
  const fee = feeMap[this.value] || 0;
  document.getElementById("feeAmount").innerText = fee;
  document.getElementById("membership_fee").value = fee;
});
</script>

</body>
</html>
